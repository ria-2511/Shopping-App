(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[401],{15845:function(e,n,r){e.exports=r(47434)().Promise},98922:function(e){"use strict";var n="@@any-promise/REGISTRATION",r=null;e.exports=function(e,t){return function(a,s){a=a||null;var o=!1!==(s=s||{}).global;if(null===r&&o&&(r=e[n]||null),null!==r&&null!==a&&r.implementation!==a)throw new Error('any-promise already defined as "'+r.implementation+'".  You can only register an implementation before the first  call to require("any-promise") and an implementation cannot be changed');return null===r&&(r=null!==a&&"undefined"!==typeof s.Promise?{Promise:s.Promise,implementation:a}:t(a),o&&(e[n]=r)),r}}},47434:function(e,n,r){"use strict";e.exports=r(98922)(window,(function(){if("undefined"===typeof window.Promise)throw new Error("any-promise browser requires a polyfill or explicit registration e.g: require('any-promise/register/bluebird')");return{Promise:window.Promise,implementation:"window.Promise"}}))},94184:function(e,n){var r;!function(){"use strict";var t={}.hasOwnProperty;function a(){for(var e=[],n=0;n<arguments.length;n++){var r=arguments[n];if(r){var s=typeof r;if("string"===s||"number"===s)e.push(r);else if(Array.isArray(r)&&r.length){var o=a.apply(null,r);o&&e.push(o)}else if("object"===s)for(var i in r)t.call(r,i)&&r[i]&&e.push(i)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(n,[]))||(e.exports=r)}()},54668:function(e,n,r){"use strict";r.d(n,{Z:function(){return s}});var t=r(46359),a=r(85893);function s(){return(0,a.jsx)("footer",{className:"aligncenter",children:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsxs)("p",{children:["Created by ",(0,a.jsx)(t.Z,{href:"https://twitter.com/leemunroe",target:"_blank",rel:"noopener",children:"Lee Munroe"})," and ",(0,a.jsx)(t.Z,{href:"https://twitter.com/tjmehta",target:"_blank",rel:"noopener",children:"Tejesh Mehta"}),". For help and support shoot us an ",(0,a.jsx)(t.Z,{href:"mailto:hello@codeshare.io",target:"_blank",rel:"noopener",children:"email"}),"."]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(t.Z,{href:"/privacy",target:"_blank",rel:"noopener",children:"Privacy Policy"}),"\xa0\u2022\xa0",(0,a.jsx)(t.Z,{href:"/tos",target:"_blank",rel:"noopener",children:"Terms of Service"})]})]})})}},14559:function(e,n,r){"use strict";var t=r(9008);n.Z=t.default},82683:function(e,n,r){"use strict";var t=r(11436),a=r(85893);n.Z=e=>(0,a.jsxs)(t.Z,{logoClassName:"span4",children:[e.children,(0,a.jsx)("div",{className:"span8",children:(0,a.jsx)("ul",{className:"navbar navbar--right header__navbar nav-item-pad",children:e.renderActions()})},"user-menu")]})},68173:function(e,n,r){"use strict";r.d(n,{Z:function(){return b}});const t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UserNavbar_me",selections:[{alias:null,args:null,kind:"ScalarField",name:"anonymous",storageKey:null},{args:null,kind:"FragmentSpread",name:"AuthUserNavbar_me"}],type:"Me",abstractKey:null,hash:"79b977bfc79354aabc4c75e4abce9481"};var a=t,s=r(67294),o=r(67912),i=r(82683),l=r(44925);const c={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AuthUserNavbar_me",selections:[{alias:null,args:null,kind:"ScalarField",name:"anonymous",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},{args:null,kind:"FragmentSpread",name:"Gravatar_me"}],type:"Me",abstractKey:null,hash:"c625af959b89aab7dbee63863e6f5976"};var u=c,d=r(46359),h=r(11436),p=r(94184),f=r.n(p),m=r(11163),v=r(85893);const g=["logoSrc"],x=e=>{let n=e.logoSrc,r=(0,l.Z)(e,g);const t=(0,s.useState)(!1),a=t[0],i=t[1],c=(0,o.useFragment)(u,r.me),p=(0,s.useRef)(null);(0,s.useEffect)((()=>{function e(e){var n;null!==p&&void 0!==p&&null!==(n=p.current)&&void 0!==n&&n.contains(e.target)||i(!1)}return window.addEventListener("click",e),()=>{window.removeEventListener("click",e)}}),[]);const x=(0,m.useRouter)();return(0,v.jsxs)(h.Z,{logoSrc:n,children:[r.children,(0,v.jsx)("div",{className:"span6",children:(0,v.jsxs)("ul",{className:"navbar navbar--right header__navbar",children:[r.renderActions(),(0,v.jsxs)("li",{className:"dropdown",children:[(0,v.jsxs)("a",{href:"#",onClick:function(e){e.preventDefault(),e.stopPropagation(),i(!a)},className:"dropdown-toggle",children:[c.name||c.email||"Anonymous",(0,v.jsx)("span",{className:"glyphicon glyphicon-chevron-down"})]}),(0,v.jsxs)("ul",{ref:p,className:f()({"dropdown-content":!0,"dropdown-content--is-active":a}),children:[/^\/codes$/i.test(x.pathname||"")?null:(0,v.jsx)("li",{className:"dropdown-content__option",children:(0,v.jsx)(d.Z,{href:"/codes",children:"Your Codeshares"})}),(0,v.jsx)("li",{className:"dropdown-content__option",children:(0,v.jsx)(d.Z,{href:"/new",rel:"nofollow",children:"New Codeshare"})}),/^\/settings$/i.test(x.pathname||"")?null:(0,v.jsx)("li",{className:"dropdown-content__option",children:(0,v.jsx)(d.Z,{href:"/settings",rel:"nofollow",children:"Account Settings"})}),(0,v.jsx)("li",{className:"dropdown-content__option",children:(0,v.jsx)(d.Z,{href:"/logout",rel:"nofollow",children:"Log Out"})})]})]})]})},"user-menu")]})};x.defaultProps={renderActions:()=>null};var w=x;const y=e=>{const n=(0,o.useFragment)(a,e.me);return n.anonymous?(0,v.jsx)(i.Z,{renderActions:e.renderAnonActions,children:e.children}):(0,v.jsx)(w,{me:n,renderActions:e.renderAuthActions,children:e.children})};y.defaultProps={renderAnonActions:()=>[(0,v.jsx)("li",{children:(0,v.jsx)(d.Z,{href:"/plans",children:"Pricing"})},"pricing"),(0,v.jsx)("li",{children:(0,v.jsx)(d.Z,{href:"/register",children:"Sign Up"})},"register"),(0,v.jsx)("li",{children:(0,v.jsx)(d.Z,{href:"/login",children:"Log In"})},"login")],renderAuthActions:()=>null};var b=y},38631:function(e,n,r){"use strict";var t=r(15861),a=(r(39714),r(83753),r(87757)),s=r.n(a),o=r(55568),i=r(50559),l=r(73496),c=r(67912),u=r(84511),d=r(92432),h=r(3746);function p(e,n,r,t){return f.apply(this,arguments)}function f(){return(f=(0,t.Z)(s().mark((function e(n,r,t,a){var f,g,x,w,y,b,Z,j,k,N;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.H)({req:n.req,res:n.res,logger:d.Z,forceNewSession:a});case 2:return f=e.sent,g=f.apiHeaders,x=f.environment,e.prev=5,e.next=8,(0,o.Z)((()=>{try{return(0,c.fetchQuery)(x,r,t).toPromise()}catch(Z){const n=(0,u.Z)(Z);if(m(n)||v(n))throw o.V.wrap(Z,"non-retryable");throw Z}}),s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.Z.debug("fetchQuery retry 1"),e.next=3,0;case 3:return d.Z.debug("fetchQuery retry 2"),e.next=6,100;case 6:return d.Z.debug("fetchQuery retry 3"),e.next=9,200;case 9:case"end":return e.stop()}}),e)})));case 8:w=e.sent,e.next=22;break;case 11:if(e.prev=11,e.t0=e.catch(5),y=(0,u.Z)(e.t0),b=null===y||void 0===y?void 0:y.status,!m(y)||a){e.next=18;break}return d.Z.debug("authentication error, retrying with new session",{status:b,apiErr:y}),e.abrupt("return",p(n,r,t,!0));case 18:throw Z=new i.Z("fetchQuery error",{query:r.toString(),vars:t}).wrap(e.t0),(j=(0,u.Z)(e.t0))&&(m(j)||v(j))?"current"in j&&j.current%(null!==(k=j.limit)&&void 0!==k?k:100)!==0||d.Z.warn("fetch query error warning",{message:null===j||void 0===j?void 0:j.message}):/FetchError:/.test(null===e.t0||void 0===e.t0?void 0:e.t0.message)?d.Z.error("fetch query network error",{originalErr:e.t0}):d.Z.error("fetch query error",{err:Z,originalErr:e.t0,apiErr:j}),Z;case 22:return N=x.getStore().getSource().toJSON(),e.abrupt("return",{apiHeaders:g,queryProps:w,queryRecords:N,userAgent:(0,h.Z)(n)});case 24:case"end":return e.stop()}}),e,null,[[5,11]])})))).apply(this,arguments)}function m(e){var n;return 401===(null===e||void 0===e?void 0:e.status)||"UNAUTHENTICATED"===(null===e||void 0===e||null===(n=e.extensions)||void 0===n?void 0:n.code)}function v(e){var n,r;return 429===(null===e||void 0===e?void 0:e.status)||/rate limit/.test(null!==(n=null!==(r=null===e||void 0===e?void 0:e.stack)&&void 0!==r?r:null===e||void 0===e?void 0:e.message)&&void 0!==n?n:"")}n.Z=p},3746:function(e,n,r){"use strict";function t(e){let n=e.req;return n?n.headers["user-agent"]||"Unknown":navigator.userAgent}r.d(n,{Z:function(){return t}})},55568:function(e,n,r){"use strict";r.d(n,{V:function(){return c},Z:function(){return u}});var t=r(15861),a=r(87757),s=r.n(a),o=r(50559),i=r(19920),l=r.n(i);class c extends o.Z{}function u(e,n){return d.apply(this,arguments)}function d(){return(d=(0,t.Z)(s().mark((function e(n,r){var t,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n();case 3:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e.catch(0),!(e.t0 instanceof c)){e.next=10;break}throw e.t0.source;case 10:if(t=r(),!(a=t.next()).done){e.next=14;break}throw e.t0;case 14:return e.next=16,l()(a.value);case 16:return e.next=18,u(n,(()=>t));case 18:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}},19920:function(e,n,r){var t=r(15845);e.exports=function(e){var n,r=new t((function(r){n=setTimeout(r,e||0)}));return r.clear=function(){return clearTimeout(n)},r}}}]);
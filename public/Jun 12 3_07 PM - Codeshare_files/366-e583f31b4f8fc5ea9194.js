(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[366],{17235:function(e){function r(e){var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}r.keys=function(){return[]},r.resolve=r,r.id=17235,e.exports=r},46359:function(e,r,t){"use strict";var n=t(44925),o=(t(15306),t(41664)),s=t(85893);const i=["as","children","className","href","passHref","prefetch","rel","replace","scroll","shallow","style","target","onClick"];r.Z=e=>{let r=e.as,t=e.children,c=e.className,a=e.href,l=e.passHref,u=e.prefetch,_=e.rel,d=e.replace,f=e.scroll,p=e.shallow,v=e.style,h=e.target,b=e.onClick,g=(0,n.Z)(e,i);return/^(mailto:|(\/(logout|new|\[codeshareId\])$))/i.test(a)?(0,s.jsx)("a",{className:c,href:r||a,rel:_,style:v,target:h,onClick:b,"data-hint":g["data-hint"],children:t}):(0,s.jsx)(o.default,{as:r,href:a,passHref:l,prefetch:null!==u&&void 0!==u?u:"nofollow"!==_&&"noopener"!==_&&"external"!==_&&"_blank"!==h&&void 0,replace:d,scroll:f,shallow:p,children:(0,s.jsx)("a",{className:c,rel:_,style:v,target:h,onClick:b,"data-hint":g["data-hint"],children:t})})}},74685:function(e,r,t){"use strict";t.d(r,{Z:function(){return p}});t(57327),t(54747),t(49337);var n=t(4942),o=t(44925),s=(t(67294),t(46359)),i=t(94294),c=t(85893);const a=["alt","src"];function l(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function u(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?l(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var _=e=>{const r=e.alt,t=e.src,n=(0,o.Z)(e,a);return(0,c.jsx)("img",u(u({alt:null!==r&&void 0!==r?r:"Codeshare logo"},n),{},{src:null!==t&&void 0!==t?t:(0,i.Z)("/img/codeshare-logo.svg")}))};const d=["link"];function f(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}var p=e=>{const r=e.link,t=(0,o.Z)(e,d),i=(0,c.jsx)(_,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?f(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},t));return r?(0,c.jsx)(s.Z,{href:"/",children:i}):i}},11436:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});t(57327);var n=t(67294),o=t(74685),s=t(85893);function i(e){return(0,s.jsx)("div",{className:e.className||"span6",children:(0,s.jsx)(o.Z,{link:!0,src:e.src,className:"header__logo"})})}function c(e){return null!=e}var a=e=>{const r=n.Children.toArray(e.children).filter(c).length;return(0,s.jsx)("header",{className:"header",children:(0,s.jsxs)("div",{className:"group",children:[r<2?(0,s.jsx)(i,{src:e.logoSrc,className:e.logoClassName}):null,e.children]})})}},4567:function(e,r,t){"use strict";t.d(r,{Ke:function(){return n},_y:function(){return s},us:function(){return i}});t(24603),t(39714);const n="x-codeshare-auth-mutation",o=["deleteMe","login","logout","register","registerAnonymous","usePasswordReset"],s=new RegExp("^(".concat(o.join("|"),")"),"i"),i=new RegExp("(".concat(o.join("|"),")[(]"),"i");new RegExp("(".concat(o.join("|"),"):"),"i")},50559:function(e,r,t){"use strict";var n=t(22431);r.Z=n.Z},30924:function(e,r,t){"use strict";var n=t(4942),o=(t(66992),t(33948),t(57327),t(50559)),s=t(42195),i=t.n(s),c=t(34555),a=t(53028),l=t(92432);o.Z.assert("a956324bc4de383e61cbcebe7786ee1f","env requires ANALYTICS_AMPLITUDE_API_KEY");o.Z.assert("UA-1284993-57","env requires ANALYTICS_GA_TRACKING_ID");o.Z.assert("rxyftsii","env requires ANALYTICS_INTERCOM_APP_ID");o.Z.assert("61833","env requires ANALYTICS_QUALAROO_CUSTOMER_ID");o.Z.assert("e3_","env requires ANALYTICS_QUALAROO_SITE_TOKEN");const u=new class{constructor(){(0,n.Z)(this,"analyticsjs",void 0),(0,n.Z)(this,"buffer",[])}init(){o.Z.assert(c.Z,"analytics.init should only be invoked in browser");const e=this.analyticsjs=t(73241);for(a.Z||(e.use(t(15237)),e.use(t(30784)),e.use(t(1689)),e.init({Amplitude:{apiKey:"a956324bc4de383e61cbcebe7786ee1f"},"Google Analytics":{trackingId:"UA-1284993-57"},Intercom:{appId:"rxyftsii"},Qualaroo:{customerId:"61833",siteToken:"e3_"}})),this.analyticsjs=e;this.buffer.length;){const e=this.buffer.pop()||{},r=e.method,t=e.args;r&&this[r](...t)}}page(){o.Z.assert(c.Z,"analytics.track should only be invoked in browser"),this.analyticsjs?(l.Z.debug("analytics: page"),a.Z||this.analyticsjs.page()):this.buffer.push({method:"page",args:[]})}reset(){o.Z.assert(c.Z,"analytics.track should only be invoked in browser"),this.analyticsjs?(l.Z.debug("analytics: reset"),a.Z||this.analyticsjs.reset()):this.buffer.push({method:"reset",args:[]})}identify(e,r){if(o.Z.assert(c.Z,"analytics.track should only be invoked in browser"),!this.analyticsjs)return void this.buffer.push({method:"identify",args:[e,r].filter((e=>null!=e))});const t=i().decodeRelayId("Me",e);l.Z.debug("analytics: identify",{relayId:e,userId:t,traits:r}),a.Z||this.analyticsjs.identify(e,r)}track(e,r){o.Z.assert(c.Z,"analytics.track should only be invoked in browser"),this.analyticsjs?(l.Z.debug("analytics: track",{event:e,props:r}),a.Z||this.analyticsjs.track(e,r)):this.buffer.push({method:"track",args:[e,r].filter((e=>null!=e))})}};c.Z&&u.init(),r.Z=u},92432:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});t(66992),t(33948);var n=t(53028);var o={fatal:function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];console.error?console.error("FATAL!",...r):console.log("FATAL:",...r)},error:function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];console.error?console.error(...r):console.log("ERROR:",...r)},warn:function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];console.warn?console.warn(...r):console.log("WARN:",...r)},info:function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];console.info?console.info(...r):console.log("INFO:",...r)},debug:function(){if(n.Z){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];console.debug?console.debug(...r):console.log("DEBUG:",...r)}},trace:function(){if(n.Z){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];console.trace?console.trace(...r):console.log("TRACE:",...r)}}},s=(0,t(15934).Z)("~/helpers/serverLogger",!0)||o},51726:function(e,r,t){"use strict";t.d(r,{Z:function(){return E},i:function(){return j}});t(57327),t(49337);var n=t(15861),o=t(4942),s=t(87757),i=t.n(s),c=(t(54747),t(92222),t(88674),t(66992),t(33948),t(4567)),a=t(41719),l=t(35367),u=t(77243),_=t(50559),d=t(5313);var f=t(25427),p=t(36765),v=t(34555),h=t(53028),b=t(92432),g=t(63200);function w(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function y(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?w(Object(t),!0).forEach((function(r){(0,o.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}let O=!1;const Z=(0,g.q)((e=>{let r=e.graphQLErrors,t=e.networkError;r&&r.forEach((e=>b.Z.debug("GraphQL error",{err:e}))),t&&b.Z.debug("Network error",{err:t})}));let m;function j(){return _.Z.assert(m,"'wsLink' is missing"),_.Z.assert("subscriptionClient"in m,"'subscriptionClient' is missing"),m.subscriptionClient}function E(e){e.url;let r=e.headers;const t=new a.u({uri:"".concat(window.location.protocol,"//").concat(window.location.host).concat("/-/api","/graphql"),headers:y(y({},r),{},{[c.Ke]:!0})});let o=!1;if(m=new f.A(new d.SubscriptionClient("".concat("https:"===window.location.protocol?"wss:":"ws:","//").concat(window.location.host).concat("/-/api","/graphql"),{connectionParams:function(){var e=(0,n.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j(),!o){e.next=5;break}return o=!1,e.next=5,fetch("/");case 5:return e.abrupt("return",{headers:r});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),connectionCallback:e=>{if(null!=e){b.Z.debug("Network error",{err:e});try{401===JSON.parse(e.message).status&&(o=!0,O=!0,!O&&confirm("Session expired. Refresh the page?")?window.location.reload():j().close())}catch(r){}}},reconnect:!0},null,"codeshare-graphql-ws")),j().on("error",(()=>{j().clearTryReconnectTimeout(),j().clearMaxConnectTimeout()})),h.Z){const e=m.subscriptionClient.eventEmitter.emit;m.subscriptionClient.eventEmitter.emit=function(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];b.Z.debug("subscriptionClient.emit",...t),e.call(this,...t)}}return(0,l.V)((e=>{var r;let t=e.query;const n=(0,p.p$)(t);return v.Z&&"OperationDefinition"===n.kind&&"mutation"===n.operation&&c._y.test(function(e){var r,t,n,o;return(null===(r=e.selectionSet)||void 0===r?void 0:r.selections)&&(null===(t=e.selectionSet)||void 0===t||null===(n=t.selections[0])||void 0===n||null===(o=n.name)||void 0===o?void 0:o.value)}(n)||(null===(r=n.name)||void 0===r?void 0:r.value)||"")}),t,(0,u.D)([Z,m]))}},73496:function(e,r,t){"use strict";t.d(r,{H:function(){return O},Z:function(){return y}});var n=t(15861),o=t(87757),s=t.n(o),i=t(50559),c=t(44311),a=t(85060),l=t.n(a),u=t(4567),_=t(51726),d=t(47037),f=t(40154),p=t(8799);var v=function(e){const r=(0,_.Z)({url:"http://api",headers:e});return c.Network.create(((e,t)=>l().create((n=>(0,d.h)(r,{query:(0,p.Qc)(e.text),variables:t}).subscribe({next:n.next,error:n.error,complete:()=>{u.us.test(e.text)&&(0,f.Z)(),n.complete()}})))),((e,t,n,o)=>{const s=l().create((n=>(0,d.h)(r,{query:(0,p.Qc)(e.text),variables:t}).subscribe({next:n.next,error:n.error,complete:n.complete})));return o?s.subscribe((function(e){return o.onNext({data:e})}),o.onError,o.onCompleted):s}))};let h;var b=t(73855),g=t(15934);const w=e=>{let r=e.apiHeaders,t=e.records;if(b.Z){i.Z.assert(r,"apiHeaders is required",{apiHeaders:r,records:t});return(0,g.Z)("~/relay/createServerEnvironment")({apiHeaders:r,records:t})}return function(e){let r=e.records;if(h)return h;const t=new c.RecordSource(r),n=new c.Store(t),o=v();return h=new c.Environment({handlerProvider:null,network:o,store:n}),h}({records:t})};var y=w;const O=function(){var e=(0,n.Z)(s().mark((function e(r){var t,n,o,c,a,l,u,_,d,f;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.req,n=r.res,o=r.logger,c=r.forceNewSession,!b.Z){e.next=21;break}if(i.Z.assert(t,"server: ctx is missing req"),i.Z.assert(n,"server: ctx is missing res"),i.Z.assert(o,"server: ctx is missing logger"),l=(0,g.Z)("~/helpers/SessionHelper"),u=new l({req:t,res:n,logger:o}),!c){e.next=13;break}return e.next=10,u.logout(!0);case 10:e.t0=e.sent,e.next=16;break;case 13:return e.next=15,u.getOrCreate();case 15:e.t0=e.sent;case 16:_=e.t0,d=_.token,a={authorization:"token ".concat(d),"x-forwarded-for":t.headers["x-forwarded-for"]||t.socket.remoteAddress},e.next=21;break;case 21:return f=w({apiHeaders:a}),e.abrupt("return",{apiHeaders:a,environment:f});case 23:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()},94294:function(e,r,t){"use strict";t(92222),t(50559);r.Z=e=>("/"!==e[0]&&(e="/".concat(e)),"".concat("/-").concat(e,"?v=").concat("v3.26.0"))},34555:function(e,r,t){"use strict";const n=!t(73855).Z;r.Z=n},53028:function(e,r){"use strict";r.Z=!1},73855:function(e,r){"use strict";r.Z=!1},84511:function(e,r,t){"use strict";t.d(r,{Z:function(){return o}});t(19601);var n=t(70230);function o(e){var r,t,o,i,c,a,l,u,_,d,f,p,v,h,b;const g=(0,n.Z)(e),w=null===e||void 0===e?void 0:e.source;return null!==(r=null!==(t=null!==(o=s(null===g||void 0===g||null===(i=g.extensions)||void 0===i?void 0:i.exception,null===g||void 0===g?void 0:g.message))&&void 0!==o?o:s(null===w||void 0===w||null===(c=w.extensions)||void 0===c?void 0:c.exception,null===w||void 0===w?void 0:w.message))&&void 0!==t?t:s(null===e||void 0===e||null===(a=e.source)||void 0===a||null===(l=a.source)||void 0===l||null===(u=l.errors)||void 0===u||null===(_=u[0].extensions)||void 0===_?void 0:_.exception,null===e||void 0===e||null===(d=e.source)||void 0===d||null===(f=d.source)||void 0===f||null===(p=f.errors)||void 0===p||null===(v=p[0])||void 0===v?void 0:v.message))&&void 0!==r?r:null===e||void 0===e||null===(h=e.result)||void 0===h||null===(b=h.errors)||void 0===b?void 0:b[0]}function s(e,r){return null==e||null==r?e:Object.assign(e,{message:r})}},70230:function(e,r,t){"use strict";function n(e){var r,t;const n=null!==e&&void 0!==e&&e.source?e:null===e||void 0===e?void 0:e.originalError;return(null===n||void 0===n||null===(r=n.source)||void 0===r?void 0:r.errors)&&(null===n||void 0===n||null===(t=n.source)||void 0===t?void 0:t.errors[0])}t.d(r,{Z:function(){return n}})},15934:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return serverRequire}});var core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(15306),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(92222),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_1__),_isServer__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(73855),path__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(26470),path__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__),process=__webpack_require__(34155);function pathHelper(e){let r=e.replace("~",(0,path__WEBPACK_IMPORTED_MODULE_2__.join)(process.cwd(),process.env.PREBUILT?"/.dist":""));return e!==r?"".concat(r).concat(process.env.PREBUILT?"":".ts"):r}function serverRequire(path,force){if(!_isServer__WEBPACK_IMPORTED_MODULE_3__.Z){if(!force)throw new Error('Cannot serverRequire "'.concat(path,'" in the browser'));return}let _path=pathHelper(path);const _req=eval("require");return path!==_path?_req(_path).default:_req(_path)}},40154:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});var n=t(50559),o=t(51726),s=t(34555),i=t(53028),c=t(92432);function a(){n.Z.assert(s.Z,"onDisconnect should only be used on clientside"),c.Z.debug("force reconnect!");(0,o.i)().close(false,!1)}s.Z&&i.Z&&(window.forceReconnect=a)}}]);